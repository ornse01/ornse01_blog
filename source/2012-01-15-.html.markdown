---
title: ソースコードの整備のついでにと思ったら
date: 2012-01-15 21:56:52
tags: bchan, 
---
<ol>
<li>bchanとbchanlで共通のソースファイルをコピペして使ってて二重管理であれやこれやしてる</li>
<li>あと、気まぐれに別のコード書くときに、bchanで使ってるファイルをコピペして使ったりしてるけど、一つ一つコピーしてくと面倒</li>
<li>将来的に、新たな2chブラウザ用ソフトを作成するつもりがある</li>
<li>んじゃあ、いいかげんにライブラリとして整備しよう</li>
<li>Subversionで別ブランチにして外部参照するようにしよう。<a href="http://www.asahi-net.or.jp/~iu9m-tcym/svndoc/svn_externals_relative.html">この資料</a>が一番詳しそう。</li>
<li>じゃあせっかくだから、気になってた部分色々直そう</li>
<li>まずはHTTPの処理で、持続的接続に対応しようか。あとヘッダの処理とか全面的に書き換えよう。パイプラインもできたらいいけど、とりあえずそれは後回しでいいや</li>
<li>……やってみたら面倒</li>
</ol>

わはははは。

まあ、bchanには持続的接続とか当分使わないんだけどね。いや、そのうち貼られた画像を自動でロードする機能とか実装するつもりではあるんだけどね。

twitterクライアントもそのうち手を付けたいなーとか思って、HTTPをあれこれ直してるんだけどね。

我ながら余計な寄り道だなあ。

いや、ついでに色々やってはいるのよね。バッファの持ち主を整理したり、ユニットテスト可能な部分を増やしたり。mallocの回数もぎりぎりまで減らしたり。

いや、本筋に関係ない寄り道には変わらないんだけど。
